!(function (e, t) {
  "object" == typeof exports && "undefined" != typeof module
    ? t(exports)
    : "function" == typeof define && define.amd
    ? define(["exports"], t)
    : t(((e = e || self).xyParser = {}));
})(this, function (e) {
  "use strict";
  var t,
    n = (function (e, t) {
      return e((t = { exports: {} }), t.exports), t.exports;
    })(function (e, t) {
      Object.defineProperty(t, "__esModule", { value: !0 }),
        (t.parseXY = function (e) {
          let t =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {},
            {
              rescale: n = !1,
              uniqueX: l = !1,
              xColumn: r = 0,
              yColumn: o = 1,
              keepInfo: u = !1,
              maxNumberColumns: a = Number.MAX_SAFE_INTEGER,
              minNumberColumns: s = 2,
            } = t;
          (a = Math.max(a, r + 1, o + 1)), (s = Math.max(r + 1, o + 1, s));
          let i = e.split(/[\r\n]+/),
            f = Number.MIN_VALUE,
            h = { x: [], y: [] },
            p = [];
          for (let e = 0; e < i.length; e++) {
            let t = i[e].trim();
            if (t.match(/[0-9]+/) && t.match(/^[0-9eE,;. \t+-]+$/)) {
              let e = t.split(/,[; \t]+|[; \t]+/);
              if (
                (1 === e.length && (e = t.split(/[,; \t]+/)),
                e && e.length >= s && e.length <= a)
              ) {
                let t = parseFloat(e[r].replace(",", ".")),
                  n = parseFloat(e[o].replace(",", "."));
                n > f && (f = n), h.x.push(t), h.y.push(n);
              }
            } else t && p.push({ position: h.x.length, value: t });
          }
          if (
            (l &&
              (function () {
                let e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {};
                const { x: t, y: n } = e;
                if (t.length < 2) return;
                if (t.length !== n.length)
                  throw new Error(
                    "The X and Y arrays mush have the same length"
                  );
                let l = t[0],
                  r = 0;
                for (let e = 1; e < t.length; e++)
                  l !== t[e] &&
                    (r++, (l = t[e]), (t[r] = t[e]), e !== r && (n[r] = 0)),
                    e !== r && (n[r] += n[e]);
                (t.length = r + 1), (n.length = r + 1);
              })(h),
            n)
          )
            for (let e = 0; e < h.y.length; e++) h.y[e] /= f;
          return u ? { info: p, data: h } : h;
        });
    }),
    l =
      (t = n) &&
      t.__esModule &&
      Object.prototype.hasOwnProperty.call(t, "default")
        ? t.default
        : t,
    r = n.parseXY;
  (e.default = l),
    (e.parseXY = r),
    Object.defineProperty(e, "__esModule", { value: !0 });
});
//# sourceMappingURL=xy-parser.min.js.map
